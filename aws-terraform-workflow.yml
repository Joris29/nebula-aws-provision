version: v1
description: Nebula Deploy Demo To AWS

parameters:
  terraform_state_bucket:
    description: The name of the bucket you'd like to store terraform state in

steps:
- name: provision-s3-remote-state-bucket
  image: projectnebula/core
  input:
    - apk --no-cache add python3 curl &&
      curl -O https://bootstrap.pypa.io/get-pip.py &&
      python3 get-pip.py &&
      pip3 install awscli --upgrade &&
      aws --version